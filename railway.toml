# Railway configuration for monorepo
[build]
builder = "NIXPACKS"

# Backend service configuration
[backend]
root = "backend"
buildCommand = "pip install -r requirements.txt && python manage.py collectstatic --noinput"
startCommand = "gunicorn Mwaiseni.wsgi:application --bind 0.0.0.0: --workers 4"
healthcheckPath = "/health/"

# Frontend service configuration
[frontend]
root = "frontend"
buildCommand = "npm install && npm run build"
startCommand = "npx serve -s dist -l "
